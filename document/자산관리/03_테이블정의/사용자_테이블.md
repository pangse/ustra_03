````md
# 문서명: ZCM_USER_테이블정의서.md
- 수정일: 2025-05-23
- 작성자: 송영근
- 내  용: 자산관리 시스템에서 조직 기반 사용자 정보를 관리하고, 사용자 유형, 직책, 권한 연계 정보를 포함하는 사용자 마스터 테이블 정의서

---

## [1. 테이블명 및 목적]

- 테이블명: `ZCM_USER`
- 목적: 사용자 정보를 조직 단위로 분류하고, 역할 및 권한 부여의 기준으로 활용하며,  
        자산 등록, 이동, 결재 등 전체 업무에 걸쳐 책임자 및 실행자 기준 정보를 제공

---

## [2. 테이블 구조 (Prisma 기준)]

```prisma
model ZCM_USER {
  id           String   @id @default(uuid())    // 고유 식별자
  userId       String                          // 로그인 ID 또는 사번 (UNIQUE)
  userName     String                          // 사용자명
  email        String                          // 업무용 이메일
  orgId        String                          // 소속 조직 ID (ZCM_ORG_UNIT 참조)
  position     String                          // 직책 또는 역할명 (예: 팀장, 매니저 등)
  userType     String                          // 사용자 유형 (SYSTEM, ADMIN, USER, APPROVER, VIEWER)
  isActive     Boolean  @default(true)         // 사용자 계정 활성화 여부
  createdBy    String
  createdAt    String
  updatedBy    String?
  updatedAt    String?
}
````

---

## \[3. 연관 테이블 관계]

| 필드     | 참조 테이블                         | 설명                               |
| ------ | ------------------------------ | -------------------------------- |
| orgId  | `ZCM_ORG_UNIT.orgId`           | 사용자의 조직 소속 연결                    |
| userId | `ZCM_USER_ROLE.userId`         | 역할 매핑 시 사용자 기준                   |
| userId | `ZFI_ASSET_MASTER.createdBy` 외 | 자산 등록자, 이동담당자, 수선자 등 실행자 기준으로 사용 |

---

## \[4. 관리 기준]

* 사용자 ID(`userId`)는 시스템 로그인 및 전자결재 요청 등 전체 기준값
* `orgId`는 조직 기반 권한 설정 및 결재 자동매핑 기준
* `userType`은 시스템 권한 설정을 보조하며, 다음과 같은 유형이 존재

| 코드       | 설명                 |
| -------- | ------------------ |
| SYSTEM   | 시스템 루트 관리자         |
| ADMIN    | 사용자 및 권한 설정 가능 운영자 |
| USER     | 일반 등록/조회 사용자       |
| APPROVER | 결재 승인 권한 보유자       |
| VIEWER   | 열람 전용 사용자          |

---

## \[5. 확장 고려 사항]

* 비밀번호 필드 또는 인증 토큰은 외부 인증 연동 시 별도 테이블로 구성
* 역할 우선순위 로직 적용 시 기본 역할 플래그 필드 추가 가능
* 조직장 자동 지정 시 `ZCM_ORG_UNIT.managerId`와의 매핑 가능

---

```
```
