# 문서명: 프로그램규칙_정의서.md
- 작성일: 2025-05-23
- 작성자: 송영근
- 내  용: 자산관리 시스템에서 사용하는 모든 화면, API, 로직, 연동 프로그램 개발 시 공통적으로 적용되는 프로그램 명명, 폴더 구조, API 설계 기준을 정의함

---

# Overview

Next.js 15.x
React 19
TypeScript
Tailwind CSS V4


## [1. 프로그램 구성 기준]

| 영역 | 설명 |
|------|------|
| 화면 프로그램 | Next.js 기반 React 컴포넌트로 구성 (Tailwind UI 사용) |
| API 처리 | `/api/` 디렉토리 내부에 route handler 구성 |
| 테이블/모델 처리 | Prisma 기반 ORM 모델로 관리 |
| 연동 프로그램 | SAP API, Slack 알림, RFID 장비 등과의 통신 스크립트 구성


---

## [2. 파일/폴더 구조 규칙]

```

/app
/asset           ← 자산 모듈
/approval        ← 결재 모듈
/common          ← 공통코드, 사용자 등
/api             ← API Route 처리
/components      ← UI 컴포넌트 모음
/prisma
/schema.prisma   ← 전체 DB 모델 정의
/docs
/정의서.md       ← 모든 기능별 정의서 문서

```

---

## [3. 명명 규칙]

| 항목 | 규칙 |
|------|------|
| 컴포넌트명 | PascalCase (예: AssetRegisterForm) |
| API 경로 | 소문자 + 대시 (예: `/api/asset/register`) |
| 변수명 | camelCase |
| 테이블명 | 대문자 스네이크 (예: ZFI_ASSET_MASTER) |
| 함수명 | 업무 의미 포함 (예: handleAssetCreate)

---

## [4. API 설계 규칙]

| 항목 | 설명 |
|------|------|
| HTTP 방식 | POST (등록), GET (조회), PUT (수정), DELETE (삭제) |
| API 응답 | JSON 객체 `{ success, message, data }` 고정 구조 |
| 에러 처리 | statusCode + 명확한 message 전달 필수 |
| 인증 필요 | 모든 API는 사용자 세션 또는 조직 인증 포함 필요

---

## [5. 예외 처리 기준]

- 오류 발생 시 로그 기록 + 사용자 피드백 분리 처리
- 알림 메시지는 사용자 언어 기준, 에러 메시지는 로그 중심

---

## [6. 개발 표준]

- 코드에는 반드시 주석 포함 (`// 역할`, `// 상태변경 시점`)  
- 모든 API는 사전 정의된 테이블과 필드 기준으로 작동  
- 모든 상태 변경은 `ZFI_ASSET_LOG` 또는 `ZFI_APPROVAL_LINE_STEP`에 기록해야 함

---

## [7. 확장 고려 사항]

- SAP API 연동은 별도 `/sap/` 디렉토리 및 모듈로 구성
- 알림 연동은 `/notifications/` 디렉토리에서 Slack, Email 등으로 분기
- RFID Reader, BLE 장비 이벤트는 `/sensor/` 모듈로 구분

---
```
