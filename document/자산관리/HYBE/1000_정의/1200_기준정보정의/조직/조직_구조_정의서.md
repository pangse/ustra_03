````md
# 문서명: 조직구조_정의서.md (SAP 연동 확장)
- 수정일: 2025-05-23
- 작성자: 송영근
- 내  용: 자산관리 시스템에서 사용자, 자산, 결재 흐름 등을 효과적으로 통제하기 위한 조직구조 정의 문서이며, SAP 회사코드 및 코스트센터 연동 항목을 포함함

---

## [1. 정의]

조직구조는 시스템 내 사용자, 자산, 결재 권한, 책임자 할당 등을  
**조직 단위(회사, 지사, 부서, 팀)**로 구분하여 관리하기 위한 기준이다.  
모든 사용자 및 자산은 특정 조직에 속하며, SAP 기준 정보와 연동하여 조직 소유자 정의, 결재권자 매핑, 권한 범위 제어가 가능해진다.

---

## [2. 조직 구조 계층 예시]

```txt
회사 (Company)
 └ 지사 (Branch)
     └ 부서 (Department)
         └ 팀 (Team)
````

예:

```
HYBE (sapCompanyCode = 1000)
 └ 서울 본사 (sapCostCenter = 50100001)
     └ 운영본부
         └ 자산관리팀
 └ 부산 지사 (sapCostCenter = 50100002)
```

---

## \[3. 기준 테이블 예시: `ZCM_ORG_UNIT` (조직 단위 테이블)]

| 필드             | 설명                                     |
| -------------- | -------------------------------------- |
| orgId          | 조직 ID (내부 고유 식별자)                      |
| orgName        | 조직명                                    |
| parentOrgId    | 상위 조직 ID (계층 구조 구성용)                   |
| orgType        | 조직 유형 (COMPANY / BRANCH / DEPT / TEAM) |
| sapCompanyCode | SAP 회사코드 (예: 1000)                     |
| sapCostCenter  | SAP 코스트센터 코드 (예: 50100230)             |
| orgManagerId   | 조직장 사용자 ID (`ZCM_USER.userId`)         |
| isActive       | 사용 여부 (false일 경우 비활성화 처리됨)             |

---

## \[4. 조직 연계 활용 항목]

| 항목                            | 설명                                 |
| ----------------------------- | ---------------------------------- |
| 사용자 (`ZCM_USER.orgId`)        | 사용자 소속 조직 기준 설정                    |
| 자산 (`ZFI_ASSET_MASTER.orgId`) | 자산 소유 조직 기준 설정                     |
| 결재선 자동 지정                     | 부서/조직장 기준으로 결재자 자동 매핑              |
| 권한 범위 제어                      | 조직별 Role 적용 가능                     |
| 통계/모니터링                       | 조직별 자산 등록 수, 이동 이력, 리폼/수선 건수 집계 가능 |
| SAP 연동                        | 자산 SAP 동기화 시 회사코드 및 코스트센터 연계 기준 사용 |

---

## \[5. 관리 기준]

* 조직 단위는 상하위 계층 구조로 관리됨
* 사용자는 1개의 조직에만 소속 가능하되, 역할은 다수 부여 가능
* `isActive = false`인 조직은 사용자/자산 매핑 불가, 선택 불가 처리
* SAP에서 제공받은 조직 마스터 데이터와 주기적으로 정합성 검증 필요

---

## \[6. 확장 고려 사항]

* 조직장 지정 필드(`orgManagerId`)를 통한 결재자 매핑 자동화
* 조직 단위 별 예산한도/결재권한 한도 설정
* 조직별 SAP 전표 자동 분배 기준 사용 가능 (예: 비용 분리)
* 조직별 자산 보유 현황, 이동 이력, 수선 빈도에 대한 통계 리포트 제공
* SAP 연동 확장 시 `SAP_ORG_UNIT_ID`, `validFrom`, `validTo` 등 추가 가능

---

```
```
