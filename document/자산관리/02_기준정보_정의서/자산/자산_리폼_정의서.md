# 문서명: 자산리폼_정의서.md (최종 확장 통합본)
- 최종 수정일: 2025-05-23
- 작성자: 송영근
- 내  용: 자산관리 시스템에서 자산을 재가공하여 새로운 자산으로 전환하는 리폼 처리 흐름과 COMPOSITE 병합, 리폼 로그, 첨부파일, 유형별 처리 구조까지 포함한 업무 정의서

---

## [1. 정의]

자산 리폼(Reform)은 기존 자산을 수선, 재조합, 리디자인 등의 방식으로  
**기능 또는 외형을 변경하여 새로운 자산으로 전환**하는 행위를 의미한다.  
의류, 무대 장비, 악기 등 예술/기획 자산에서 자주 발생하며,  
리폼된 자산은 **신규 자산으로 등록**되고 기존 자산은 `REFORMED` 상태로 변경된다.

---

## [2. 리폼 업무 흐름]

```txt
[기존 자산 수선 또는 변경 요청]
 → [리폼 유형 결정]
   → [리폼 승인 및 실행]
     → [신규 자산 등록]
       → [리폼 이력 저장]
         → [기존 자산 상태: REFORMED]
````

* 수선 결과물이 완전히 변경된 경우 리폼 처리
* 신규 자산은 새로운 `assetId`, `rfidTagId`로 등록됨

---

## \[3. 리폼 유형 코드 (`REFORM_TYPE`)]

| 코드         | 설명                 |
| ---------- | ------------------ |
| SIMPLE     | 단순 디자인 변경 또는 기능 보완 |
| COMPOSITE  | 여러 자산을 병합해 하나로 전환  |
| SPLIT      | 하나의 자산을 여러 개로 분할   |
| REDESIGN   | 외형 중심 리디자인         |
| FUNCTIONAL | 기능 업그레이드           |

---

## \[4. 리폼 사유 코드 (`REFORM_REASON`)]

| 코드                | 설명       |
| ----------------- | -------- |
| DESIGN\_CHANGE    | 디자인 리디자인 |
| FUNCTION\_UPGRADE | 기능 업그레이드 |
| SIZE\_MODIFY      | 사이즈 조정   |
| COMPOSITE\_CREATE | 복수 자산 조합 |
| SPLIT\_CREATE     | 자산 분할 생성 |

---

## \[5. 리폼 연계 항목]

| 항목      | 설명                                             |
| ------- | ---------------------------------------------- |
| 기존 자산   | `ZFI_ASSET_MASTER.assetStatus = REFORMED`로 전환  |
| 신규 자산   | `ZFI_ASSET_MASTER`에 새로 등록, RFID/자산코드 별도 관리     |
| 리폼 이력   | `ZFI_ASSET_REFORM`에 원본/신규 자산 간 연계 기록           |
| 병합 자산   | `ZFI_ASSET_COMPOSITE`을 통해 여러 자산 병합 가능          |
| 리폼 첨부파일 | `ZFI_ASSET_REFORM_FILE` – 도면, 작업 내역 등 증빙 자료 첨부 |
| 리폼 로그   | `ZFI_ASSET_REFORM_LOG` – 리폼 단계별 작업 흐름 기록       |
| 사용자     | `ZCM_USER.userId` – 등록자, 작업자 기록                |
| 조직      | `ZCM_ORG_UNIT.orgId` – 리폼 처리 조직 지정             |

---

## \[6. 처리 기준]

* 리폼은 관리자 또는 권한 사용자만 등록 가능
* 신규 자산 등록은 필수이며, 자산코드·RFID는 신규 발급
* 병합형(COMPOSITE)일 경우 2개 이상 자산 → 하나의 신규 자산 등록 필요
* 리폼 완료 후 이력은 삭제할 수 없으며, 모든 필드는 감사 대상

---

## \[7. 확장 사항]

* 리폼 로그 기록: DESIGN → CUTTING → FINISH 등 절차 추적
* 첨부파일 이미지 등록, 썸네일 미리보기(`imageUrl`) 포함 가능
* 병합 구조 확장 시 `ZFI_ASSET_COMPOSITE`에서 자산 N → 1 연결
* 리폼 유형별 결재 연계 및 KPI 측정 (평균 작업일수, 유형별 빈도)

---
