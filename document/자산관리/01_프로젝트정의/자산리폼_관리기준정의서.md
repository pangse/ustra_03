# 문서명: 자산리폼_관리기준정의서.md
- 작성일: 2025-05-23
- 작성자: 송영근
- 내  용: 의류 및 장비 등 기존 자산을 수선/리폼하여 새로운 자산으로 등록하는 리폼 처리 흐름과 시스템 기준 정의

---

## [1. 업무 개요]

※ 기존 자산을 수선하거나 재가공하여 **새로운 자산으로 전환**하는 경우,  
단순 수선이 아니라 **신규 자산 생성 + 원본 자산과의 관계 보존**이 필요함.

---

## [2. 업무 처리 흐름]

```

\[기존 자산 등록]
→ 수선 요청 (REPAIR001)
→ 수선 완료 및 리폼 판단
→ 신규 자산 등록 (REFORM001)
→ 원자산과 리폼 자산 간 연계 기록 (ZFI\_ASSET\_REFORM)

```

---

## [3. 주요 테이블 설계 개요]

### 1. ZFI_ASSET_REFORM (자산 리폼 이력)
| 필드 | 설명 |
|------|------|
| reform_id | 리폼 이력 식별자 (PK) |
| source_asset_id | 기존 자산 ID |
| new_asset_id | 새로 생성된 자산 ID |
| reform_date | 리폼 완료일 |
| reform_reason | 리폼 사유 |
| reform_details | 주요 변경내용 |
| reform_cost | 리폼에 소요된 금액 |
| vendor | 수선 업체 또는 내부 작업자 |

---

## [4. 자산유형 및 상태 기준 확장]

### 자산유형 (`ASSET_TYPE`)
- `COSTUME_RAW`: 원복 자산
- `COSTUME_REFORM`: 리폼 후 자산

### 자산상태 (`ASSET_STATUS`)
- `REFORMED`: 리폼 완료, 참조만 가능
- `ACTIVE`: 신규 자산 등록 완료 상태

---

## [5. 신규 화면 구성 항목]

| 화면ID | 화면명 | 설명 |
|--------|--------|------|
| REFORM001 | 리폼 자산 생성 | 수선완료 자산을 기반으로 새로운 자산 등록 |
| ASSET005 | 자산 이력 조회 | 리폼 전후 자산 간 추적 화면 |

---

## [6. 처리 로직 요건]

- 수선 완료 후 리폼 여부 선택 → `REFORM001`으로 유도
- 신규 자산은 RFID 재등록 필요
- 기존 자산 상태는 `REFORMED`으로 변경
- 자산코드, 비용, 태그 모두 분리된 새 자산으로 취급

---

## [7. UI 구현 제안]

- `AssetReform.tsx` 화면 구성
- 기존 자산 상세정보 자동 로딩
- 새 자산 정보 입력 후 등록
- 등록과 동시에 `ZFI_ASSET_REFORM`에 이력 자동 저장

---

## [8. SAP 연계 유의사항]

- SAP 전표 생성 시 기존 자산과 리폼 자산을 동일 자산으로 처리할지 여부는 **회계 기준**에 따라 선택
- 수선비용을 기존 자산에 남길지, 새 자산으로 넘길지는 별도 결정 필요

---
