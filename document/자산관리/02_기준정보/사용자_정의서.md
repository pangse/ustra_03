# 문서명: 사용자_정의서.md
- 수정일: 2025-05-23
- 작성자: 송영근
- 내  용: 자산관리 시스템 내 사용자(User)의 역할, 기능 접근, 조직 기반 관리 및 연동 구조에 대한 업무 정의 문서

---

## [1. 정의]

사용자는 자산관리 시스템에 로그인하여 자산 등록, 이동 처리, 수선/리폼 요청, 결재 승인 등의  
업무를 수행하는 **주체(주인공)**이며, 다음과 같은 업무 흐름의 핵심 노드로 참여한다.

---

## [2. 사용자 업무 기능]

| 업무 | 설명 |
|------|------|
| 자산 등록 | 자산 신규 등록 시 작성자 (`createdBy`) |
| 자산 이동 | 이동 실행자 (`handler`) |
| 수선/리폼 요청 | 요청자 (`requestedBy`), 결과 등록자 |
| 대여 | 대여 신청자 또는 반납 담당자 |
| 결재 요청 | 결재 상신자 |
| 결재 승인 | 결재자 (`approver`) |

---

## [3. 사용자 속성별 관리 기준]

| 항목 | 설명 |
|------|------|
| 소속조직 (`orgId`) | 부서 또는 팀 단위로 지정되며 권한 자동 할당과 결재자 추론 기준이 됨 |
| 직책 (`position`) | 역할 분류 보조 지표 (예: 팀장, 사원, 디자이너 등) |
| 사용자유형 (`userType`) | SYSTEM / ADMIN / USER / APPROVER / VIEWER |
| 활성화 여부 (`isActive`) | 로그인/업무 가능 여부 판단 기준 |
| 역할 매핑 | 사용자는 하나 이상의 역할(`ZCM_ROLE`)을 보유 가능함 |

---

## [4. 연동 관계 요약]

```txt
ZCM_ORG_UNIT ───┐
                ↓
             ZCM_USER
                ↓
        ZCM_USER_ROLE
                ↓
             ZCM_ROLE
                ↓
       ZCM_ROLE_MENU_MAP
                ↓
             ZCM_MENU
````

---

## \[5. 업무 적용 예시]

| 사용 시점      | 기준 필드                  | 설명                         |
| ---------- | ---------------------- | -------------------------- |
| 자산등록 시     | createdBy              | 등록자 기록                     |
| 자산조회 필터    | orgId                  | 조직별 자산 분리                  |
| 이동 담당자 선택  | handler (userId)       | 사용자 목록 중 `isActive = true` |
| 결재자 자동 지정  | orgId + ROLE\_APPROVER | 조직 내 결재자 우선 순위 기준 선택       |
| 사용자별 메뉴 노출 | role → menu            | 역할-메뉴 권한 기준 노출             |

---

## \[6. 관리 운영 기준]

* 사용자 생성은 관리자 또는 외부 연동(조직 DB)으로 가능
* `userId`는 유일해야 하며, 사용자 식별의 기준
* `orgId`는 조직 연계 기준 (결재선, 메뉴 접근 제한, 자산 소유 기준)
* 비활성 사용자는 로그인 및 기능 접근이 제한됨

---

## \[7. 확장 고려 사항]

* 사용자별 권한 만료일(`validTo`) 설정
* 사용자별 기능 제한 필드 (예: 승인만 가능, 등록불가 등)
* 조직장 자동 지정 로직 (`ZCM_ORG_UNIT.managerId`) 연동
* OAuth2, AD 등 외부 인증 시스템 연동 가능

---
