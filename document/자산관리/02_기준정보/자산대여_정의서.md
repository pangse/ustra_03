좋아. 자산관리 시스템에서 대여 업무는 단순한 "자산 이동"과는 구분되는 독립적 의미와 흐름이 있기 때문에,
테이블을 설계하기 전에 **대여업무 정의서**를 명확하게 정리해줄게.

---

````md
# 문서명: 자산대여_정의서.md
- 작성일: 2025-05-23
- 작성자: 송영근
- 내  용: 자산관리 시스템 내 자산 대여 업무의 정의, 흐름, 상태, 조직 및 사용자 연동 기준을 설명한 업무 정의 문서

---

## [1. 정의]

자산 대여는 자산을 특정 사용자, 부서, 또는 외부 기관에 일정 기간 동안  
**일시적으로 사용하게 하고**, 이후 **반납/회수하는 업무 흐름 전체**를 의미한다.

자산은 대여 중에는 시스템 내 `RENTED` 상태로 관리되며,  
이동 이력(`ZFI_ASSET_MOVEMENT`)과 함께 연결되어 자산의 물리적 위치도 동기화된다.

---

## [2. 업무 흐름]

```txt
[대여 요청] → [승인 또는 자동처리] → [자산 상태: RENTED] → 
[대여 시작] → [반납 또는 회수] → [자산 상태: ACTIVE]
````

* 대여 요청은 `ZCM_USER`가 수행
* 대여 시작 시 `ZFI_ASSET_MASTER.assetStatus` → `RENTED`
* 반납이 확인되면 `assetStatus` → `ACTIVE`로 복귀

---

## \[3. 주요 개념 정의]

| 항목                    | 설명                                  |
| --------------------- | ----------------------------------- |
| 대여자 (`requesterId`)   | 자산을 사용하는 실제 사용자 또는 부서               |
| 대여 조직 (`orgId`)       | 대여 요청이 발생한 조직                       |
| 대여 목적 (`rentPurpose`) | 공연, 전시, 테스트, 출장 등                   |
| 대여 기간                 | `rentStartDate` \~ `expectedReturn` |
| 반납 처리                 | `actualReturn` 입력과 함께 자산 상태 복귀      |

---

## \[4. 상태 코드 예시 (`RENT_STATUS`)]

| 코드        | 설명                |
| --------- | ----------------- |
| REQUESTED | 대여 요청됨 (승인 대기 가능) |
| RENTED    | 대여 중 (상태 고정됨)     |
| RETURNED  | 정상 반납 완료          |
| DELAYED   | 반납 지연 발생          |
| LOST      | 분실 처리             |
| CANCELED  | 대여 취소됨            |

---

## \[5. 연계 구조]

| 연동 항목                          | 설명                   |
| ------------------------------ | -------------------- |
| `ZFI_ASSET_MASTER.assetStatus` | 대여 상태에 따라 자동 갱신됨     |
| `ZFI_ASSET_MOVEMENT`           | 실제 자산 이동 이력 자동 생성됨   |
| `ZCM_USER`                     | 요청자, 등록자 등 사용자 기준 정보 |
| `ZCM_ORG_UNIT`                 | 대여 요청 조직 기준          |
| `ZCM_CODE_VALUE`               | 대여 목적, 상태 코드 기준값 저장  |

---

## \[6. 확장 고려 사항]

* 반납 알림 기능 (`expectedReturn` 초과 시 자동 알림)
* 외부 대여 기관 연계 (`externalOrgName`)
* 계약서, 메모, 첨부파일 등 추가 정보 저장
* SAP 반출 전표 연동 또는 전자결재 연계 흐름 가능

---

```

→ 이 정의서를 기준으로 아까 작성한 `ZFI_ASSET_RENT_테이블정의서.md`가 완전히 정합성을 갖게 돼.

다음은 수선 업무에 대한 정의서로 이어서 진행할게. 계속할까?
```
