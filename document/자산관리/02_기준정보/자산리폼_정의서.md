````md
# 문서명: 자산리폼_정의서.md
- 작성일: 2025-05-23
- 작성자: 송영근
- 내  용: 자산관리 시스템에서 자산을 재가공하여 새로운 자산으로 전환하는 리폼 처리 흐름과 업무 정의 문서

---

## [1. 정의]

자산 리폼(Reform)은 기존 자산을 수선, 재조합, 리디자인 등의 방식으로  
**기능 또는 외형을 변경하여 새로운 자산으로 전환**하는 행위를 의미한다.  
의류, 무대 장비, 악기 등 예술/기획 자산에서 자주 발생하며,  
리폼된 자산은 **신규 자산으로 등록**되고 기존 자산은 `REFORMED` 상태로 변경된다.

---

## [2. 업무 흐름]

```txt
[기존 자산 수선 또는 변경 요청]
 → [리폼 승인 및 실행]
   → [신규 자산 등록]
     → [리폼 이력 저장]
     → [기존 자산 상태: REFORMED]
````

* 수선 결과물이 완전히 변경되었을 경우 리폼 처리를 수행
* 신규 자산은 새로운 `assetId`, `rfidTagId`로 관리됨

---

## \[3. 리폼 사유 코드 (`REFORM_REASON`)]

| 코드                | 설명         |
| ----------------- | ---------- |
| DESIGN\_CHANGE    | 디자인 리디자인   |
| FUNCTION\_UPGRADE | 기능 업그레이드   |
| SIZE\_MODIFY      | 사이즈 조정     |
| COMPOSITE\_CREATE | 복수 자산 조합   |
| SPLIT\_CREATE     | 하나의 자산을 분할 |

---

## \[4. 연계 항목]

| 항목                         | 설명                                          |
| -------------------------- | ------------------------------------------- |
| 기존 자산 (`ZFI_ASSET_MASTER`) | `assetStatus` → `REFORMED`, 기존 자산은 변경 불가 상태 |
| 신규 자산 (`ZFI_ASSET_MASTER`) | 새로운 자산으로 등록 (`isActive = true`)             |
| 리폼 이력 (`ZFI_ASSET_REFORM`) | 원본/신규 자산 간 연결 정보 저장                         |
| 사용자 (`ZCM_USER`)           | 리폼 등록자 및 작업자                                |
| 조직 (`ZCM_ORG_UNIT`)        | 소속 기준 추적 및 책임자 매핑                           |
| 수선 이력 (`ZFI_ASSET_REPAIR`) | 리폼 전 단계로 존재할 수 있음                           |

---

## \[5. 처리 기준]

* 리폼 처리는 관리자 또는 리폼 권한자에 의해서만 등록 가능
* 신규 자산은 반드시 `ZFI_ASSET_MASTER`에 새로 등록되어야 함
* 리폼 이력(`ZFI_ASSET_REFORM`)에는 원본-신규 연결, 사유, 비용, 작업자 등 상세 기록 필요
* 기존 자산은 `assetStatus = REFORMED`로 바뀌며 실제 업무 대상에서 제외됨

---

## \[6. 확장 고려 사항]

* 리폼 후 파생된 자산의 회계적 자산가치 처리 (SAP 연동)
* RFID 태그 재발급 또는 신규 태그 발급 처리 로직
* 리폼 처리 자동화 시 시뮬레이션 기능 가능 (리폼 시 예상 결과 미리보기)
* 디자인 변경의 경우 이미지, 도면 첨부 필드 확장 가능

---

```

이제 이 정의서를 기준으로 `ZFI_ASSET_REFORM` 테이블 설계로 이어갈 수 있어.  
진행할까?
```
